{
    "version": 3,
    "terraform_version": "0.11.10",
    "serial": 8,
    "lineage": "8570b5fd-8ef3-92c5-a77b-273115567a3f",
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {},
            "resources": {
                "aws_autoscaling_attachment.asg_attachment": {
                    "type": "aws_autoscaling_attachment",
                    "depends_on": [
                        "aws_autoscaling_group.web_server",
                        "aws_lb_target_group.http"
                    ],
                    "primary": {
                        "id": "tf-asg-20181128143755563700000001-20181128143852657600000002",
                        "attributes": {
                            "alb_target_group_arn": "arn:aws:elasticloadbalancing:eu-west-1:527244036378:targetgroup/tf-20181128142909749000000001/7b8720786820cd86",
                            "autoscaling_group_name": "tf-asg-20181128143755563700000001",
                            "id": "tf-asg-20181128143755563700000001-20181128143852657600000002"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_autoscaling_group.web_server": {
                    "type": "aws_autoscaling_group",
                    "depends_on": [
                        "aws_launch_configuration.web_server",
                        "aws_subnet.private_subnet1",
                        "aws_subnet.private_subnet2"
                    ],
                    "primary": {
                        "id": "tf-asg-20181128143755563700000001",
                        "attributes": {
                            "arn": "arn:aws:autoscaling:eu-west-1:527244036378:autoScalingGroup:43efe7f0-27ef-4e39-b78e-9e5559eb8b7f:autoScalingGroupName/tf-asg-20181128143755563700000001",
                            "availability_zones.#": "2",
                            "availability_zones.1924028850": "eu-west-1b",
                            "availability_zones.3953592328": "eu-west-1a",
                            "default_cooldown": "300",
                            "desired_capacity": "1",
                            "enabled_metrics.#": "0",
                            "force_delete": "false",
                            "health_check_grace_period": "300",
                            "health_check_type": "EC2",
                            "id": "tf-asg-20181128143755563700000001",
                            "launch_configuration": "terraform-20181128145512660300000001",
                            "launch_template.#": "0",
                            "load_balancers.#": "0",
                            "max_size": "3",
                            "metrics_granularity": "1Minute",
                            "min_size": "1",
                            "mixed_instances_policy.#": "0",
                            "name": "tf-asg-20181128143755563700000001",
                            "placement_group": "",
                            "protect_from_scale_in": "false",
                            "service_linked_role_arn": "arn:aws:iam::527244036378:role/aws-service-role/autoscaling.amazonaws.com/AWSServiceRoleForAutoScaling",
                            "suspended_processes.#": "0",
                            "tag.#": "0",
                            "target_group_arns.#": "1",
                            "target_group_arns.2347622883": "arn:aws:elasticloadbalancing:eu-west-1:527244036378:targetgroup/tf-20181128142909749000000001/7b8720786820cd86",
                            "termination_policies.#": "0",
                            "vpc_zone_identifier.#": "2",
                            "vpc_zone_identifier.1497596444": "subnet-0d325934569ec4b2a",
                            "vpc_zone_identifier.2893564921": "subnet-0b6864df3695486f7",
                            "wait_for_capacity_timeout": "10m"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "delete": 600000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_ebs_volume.db_slave1": {
                    "type": "aws_ebs_volume",
                    "depends_on": [
                        "aws_subnet.private_subnet2"
                    ],
                    "primary": {
                        "id": "vol-0f071eab4569d352a",
                        "attributes": {
                            "arn": "arn:aws:ec2:eu-west-1:527244036378:volume/vol-0f071eab4569d352a",
                            "availability_zone": "eu-west-1b",
                            "encrypted": "false",
                            "id": "vol-0f071eab4569d352a",
                            "size": "950",
                            "snapshot_id": "",
                            "tags.%": "0",
                            "type": "standard"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_instance.db_slave1": {
                    "type": "aws_instance",
                    "depends_on": [
                        "aws_security_group.mysql_server",
                        "aws_subnet.private_subnet2"
                    ],
                    "primary": {
                        "id": "i-02924262fbfb4c8ef",
                        "attributes": {
                            "ami": "ami-0a3e4c3998bcf1e8c",
                            "arn": "arn:aws:ec2:eu-west-1:527244036378:instance/i-02924262fbfb4c8ef",
                            "associate_public_ip_address": "false",
                            "availability_zone": "eu-west-1b",
                            "cpu_core_count": "2",
                            "cpu_threads_per_core": "2",
                            "credit_specification.#": "1",
                            "credit_specification.0.cpu_credits": "standard",
                            "disable_api_termination": "true",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "true",
                            "ephemeral_block_device.#": "0",
                            "get_password_data": "false",
                            "iam_instance_profile": "",
                            "id": "i-02924262fbfb4c8ef",
                            "instance_state": "running",
                            "instance_type": "i3.xlarge",
                            "ipv6_addresses.#": "0",
                            "key_name": "",
                            "monitoring": "true",
                            "network_interface.#": "0",
                            "network_interface_id": "eni-0e25e05002e338194",
                            "password_data": "",
                            "placement_group": "",
                            "primary_network_interface_id": "eni-0e25e05002e338194",
                            "private_dns": "ip-192-168-4-200.eu-west-1.compute.internal",
                            "private_ip": "192.168.4.200",
                            "public_dns": "",
                            "public_ip": "",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "100",
                            "root_block_device.0.volume_id": "vol-0ac1a148ee08bea45",
                            "root_block_device.0.volume_size": "8",
                            "root_block_device.0.volume_type": "gp2",
                            "security_groups.#": "0",
                            "source_dest_check": "true",
                            "subnet_id": "subnet-0d325934569ec4b2a",
                            "tags.%": "1",
                            "tags.environment": "blue",
                            "tenancy": "default",
                            "volume_tags.%": "0",
                            "vpc_security_group_ids.#": "1",
                            "vpc_security_group_ids.3024955593": "sg-0509a009fd8731ce1"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 1200000000000,
                                "update": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_instance.nat1": {
                    "type": "aws_instance",
                    "depends_on": [
                        "aws_security_group.nat",
                        "aws_security_group.ssh",
                        "aws_subnet.public_subnet1"
                    ],
                    "primary": {
                        "id": "i-0e90967f7d7b35a03",
                        "attributes": {
                            "ami": "ami-024107e3e3217a248",
                            "arn": "arn:aws:ec2:eu-west-1:527244036378:instance/i-0e90967f7d7b35a03",
                            "associate_public_ip_address": "true",
                            "availability_zone": "eu-west-1a",
                            "cpu_core_count": "1",
                            "cpu_threads_per_core": "2",
                            "credit_specification.#": "1",
                            "credit_specification.0.cpu_credits": "standard",
                            "disable_api_termination": "true",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "ephemeral_block_device.#": "0",
                            "get_password_data": "false",
                            "iam_instance_profile": "",
                            "id": "i-0e90967f7d7b35a03",
                            "instance_state": "running",
                            "instance_type": "m5.large",
                            "ipv6_addresses.#": "0",
                            "key_name": "",
                            "monitoring": "false",
                            "network_interface.#": "0",
                            "network_interface_id": "eni-0d37f1ad035987f89",
                            "password_data": "",
                            "placement_group": "",
                            "primary_network_interface_id": "eni-0d37f1ad035987f89",
                            "private_dns": "ip-192-168-1-243.eu-west-1.compute.internal",
                            "private_ip": "192.168.1.243",
                            "public_dns": "",
                            "public_ip": "54.171.242.120",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "0",
                            "root_block_device.0.volume_id": "vol-0b32b0cc4c26ca4b0",
                            "root_block_device.0.volume_size": "8",
                            "root_block_device.0.volume_type": "standard",
                            "security_groups.#": "0",
                            "source_dest_check": "false",
                            "subnet_id": "subnet-0c9d84bc146dded81",
                            "tags.%": "1",
                            "tags.environment": "blue",
                            "tenancy": "default",
                            "volume_tags.%": "0",
                            "vpc_security_group_ids.#": "2",
                            "vpc_security_group_ids.1481003251": "sg-011560ed96b0d80be",
                            "vpc_security_group_ids.2283750404": "sg-05510ca1526e6f417"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 1200000000000,
                                "update": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_instance.nat2": {
                    "type": "aws_instance",
                    "depends_on": [
                        "aws_security_group.nat",
                        "aws_security_group.ssh",
                        "aws_subnet.public_subnet2"
                    ],
                    "primary": {
                        "id": "i-0b291ce95c25814f6",
                        "attributes": {
                            "ami": "ami-024107e3e3217a248",
                            "arn": "arn:aws:ec2:eu-west-1:527244036378:instance/i-0b291ce95c25814f6",
                            "associate_public_ip_address": "true",
                            "availability_zone": "eu-west-1b",
                            "cpu_core_count": "1",
                            "cpu_threads_per_core": "2",
                            "credit_specification.#": "1",
                            "credit_specification.0.cpu_credits": "standard",
                            "disable_api_termination": "true",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "ephemeral_block_device.#": "0",
                            "get_password_data": "false",
                            "iam_instance_profile": "",
                            "id": "i-0b291ce95c25814f6",
                            "instance_state": "running",
                            "instance_type": "m5.large",
                            "ipv6_addresses.#": "0",
                            "key_name": "",
                            "monitoring": "false",
                            "network_interface.#": "0",
                            "network_interface_id": "eni-020f78cce4493bccf",
                            "password_data": "",
                            "placement_group": "",
                            "primary_network_interface_id": "eni-020f78cce4493bccf",
                            "private_dns": "ip-192-168-3-5.eu-west-1.compute.internal",
                            "private_ip": "192.168.3.5",
                            "public_dns": "",
                            "public_ip": "54.229.169.178",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "0",
                            "root_block_device.0.volume_id": "vol-031b9646aed13591a",
                            "root_block_device.0.volume_size": "8",
                            "root_block_device.0.volume_type": "standard",
                            "security_groups.#": "0",
                            "source_dest_check": "false",
                            "subnet_id": "subnet-032e89ff80127eef0",
                            "tags.%": "1",
                            "tags.environment": "blue",
                            "tenancy": "default",
                            "volume_tags.%": "0",
                            "vpc_security_group_ids.#": "2",
                            "vpc_security_group_ids.1481003251": "sg-011560ed96b0d80be",
                            "vpc_security_group_ids.2283750404": "sg-05510ca1526e6f417"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 1200000000000,
                                "update": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_internet_gateway.igw": {
                    "type": "aws_internet_gateway",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "igw-0391c2dc7be014827",
                        "attributes": {
                            "id": "igw-0391c2dc7be014827",
                            "tags.%": "1",
                            "tags.environment": "blue",
                            "vpc_id": "vpc-026956c8f7657ce6a"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_launch_configuration.web_server": {
                    "type": "aws_launch_configuration",
                    "depends_on": [],
                    "primary": {
                        "id": "terraform-20181128145512660300000001",
                        "attributes": {
                            "associate_public_ip_address": "false",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "enable_monitoring": "true",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "",
                            "id": "terraform-20181128145512660300000001",
                            "image_id": "ami-015a01e69314a30cd",
                            "instance_type": "m5.large",
                            "key_name": "pat",
                            "name": "terraform-20181128145512660300000001",
                            "root_block_device.#": "0",
                            "security_groups.#": "1",
                            "security_groups.1787731615": "sg-036a921f1e829f0de",
                            "spot_price": "",
                            "vpc_classic_link_id": "",
                            "vpc_classic_link_security_groups.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb.main": {
                    "type": "aws_lb",
                    "depends_on": [
                        "aws_security_group.load_balancer",
                        "aws_subnet.public_subnet1",
                        "aws_subnet.public_subnet2"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:eu-west-1:527244036378:loadbalancer/app/tf-lb-20181128142927166200000004/13e63a1467dc52be",
                        "attributes": {
                            "access_logs.#": "0",
                            "arn": "arn:aws:elasticloadbalancing:eu-west-1:527244036378:loadbalancer/app/tf-lb-20181128142927166200000004/13e63a1467dc52be",
                            "arn_suffix": "app/tf-lb-20181128142927166200000004/13e63a1467dc52be",
                            "dns_name": "tf-lb-20181128142927166200000004-1036696575.eu-west-1.elb.amazonaws.com",
                            "enable_deletion_protection": "false",
                            "enable_http2": "true",
                            "id": "arn:aws:elasticloadbalancing:eu-west-1:527244036378:loadbalancer/app/tf-lb-20181128142927166200000004/13e63a1467dc52be",
                            "idle_timeout": "60",
                            "internal": "false",
                            "ip_address_type": "ipv4",
                            "load_balancer_type": "application",
                            "name": "tf-lb-20181128142927166200000004",
                            "security_groups.#": "1",
                            "security_groups.2526894282": "sg-0bcd54a0e78fb9e88",
                            "subnet_mapping.#": "0",
                            "subnets.#": "2",
                            "subnets.1363344695": "subnet-0c9d84bc146dded81",
                            "subnets.141048150": "subnet-032e89ff80127eef0",
                            "tags.%": "1",
                            "tags.environment": "blue",
                            "vpc_id": "vpc-026956c8f7657ce6a",
                            "zone_id": "Z32O12XQLNTSW2"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000,
                                "update": 600000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_listener.http": {
                    "type": "aws_lb_listener",
                    "depends_on": [
                        "aws_lb.main",
                        "aws_lb_target_group.http"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:eu-west-1:527244036378:listener/app/tf-lb-20181128142927166200000004/13e63a1467dc52be/74c7eac5239b7caf",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:eu-west-1:527244036378:listener/app/tf-lb-20181128142927166200000004/13e63a1467dc52be/74c7eac5239b7caf",
                            "default_action.#": "1",
                            "default_action.0.authenticate_cognito.#": "0",
                            "default_action.0.authenticate_oidc.#": "0",
                            "default_action.0.fixed_response.#": "0",
                            "default_action.0.order": "1",
                            "default_action.0.redirect.#": "0",
                            "default_action.0.target_group_arn": "arn:aws:elasticloadbalancing:eu-west-1:527244036378:targetgroup/tf-20181128142909749000000001/7b8720786820cd86",
                            "default_action.0.type": "forward",
                            "id": "arn:aws:elasticloadbalancing:eu-west-1:527244036378:listener/app/tf-lb-20181128142927166200000004/13e63a1467dc52be/74c7eac5239b7caf",
                            "load_balancer_arn": "arn:aws:elasticloadbalancing:eu-west-1:527244036378:loadbalancer/app/tf-lb-20181128142927166200000004/13e63a1467dc52be",
                            "port": "80",
                            "protocol": "HTTP",
                            "ssl_policy": ""
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "read": 600000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lb_target_group.http": {
                    "type": "aws_lb_target_group",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:eu-west-1:527244036378:targetgroup/tf-20181128142909749000000001/7b8720786820cd86",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:eu-west-1:527244036378:targetgroup/tf-20181128142909749000000001/7b8720786820cd86",
                            "arn_suffix": "targetgroup/tf-20181128142909749000000001/7b8720786820cd86",
                            "deregistration_delay": "300",
                            "health_check.#": "1",
                            "health_check.0.healthy_threshold": "5",
                            "health_check.0.interval": "30",
                            "health_check.0.matcher": "200",
                            "health_check.0.path": "/",
                            "health_check.0.port": "traffic-port",
                            "health_check.0.protocol": "HTTP",
                            "health_check.0.timeout": "5",
                            "health_check.0.unhealthy_threshold": "2",
                            "id": "arn:aws:elasticloadbalancing:eu-west-1:527244036378:targetgroup/tf-20181128142909749000000001/7b8720786820cd86",
                            "name": "tf-20181128142909749000000001",
                            "port": "80",
                            "protocol": "HTTP",
                            "proxy_protocol_v2": "false",
                            "slow_start": "0",
                            "stickiness.#": "1",
                            "stickiness.0.cookie_duration": "86400",
                            "stickiness.0.enabled": "false",
                            "stickiness.0.type": "lb_cookie",
                            "tags.%": "1",
                            "tags.environment": "blue",
                            "target_type": "instance",
                            "vpc_id": "vpc-026956c8f7657ce6a"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_network_acl.private": {
                    "type": "aws_network_acl",
                    "depends_on": [
                        "aws_subnet.public_subnet1",
                        "aws_subnet.public_subnet2",
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "acl-0b333a658ea350fa5",
                        "attributes": {
                            "egress.#": "1",
                            "egress.1431324032.action": "allow",
                            "egress.1431324032.cidr_block": "0.0.0.0/0",
                            "egress.1431324032.from_port": "0",
                            "egress.1431324032.icmp_code": "0",
                            "egress.1431324032.icmp_type": "0",
                            "egress.1431324032.ipv6_cidr_block": "",
                            "egress.1431324032.protocol": "-1",
                            "egress.1431324032.rule_no": "500",
                            "egress.1431324032.to_port": "0",
                            "id": "acl-0b333a658ea350fa5",
                            "ingress.#": "4",
                            "ingress.2098908075.action": "allow",
                            "ingress.2098908075.cidr_block": "192.168.3.0/24",
                            "ingress.2098908075.from_port": "22",
                            "ingress.2098908075.icmp_code": "0",
                            "ingress.2098908075.icmp_type": "0",
                            "ingress.2098908075.ipv6_cidr_block": "",
                            "ingress.2098908075.protocol": "6",
                            "ingress.2098908075.rule_no": "450",
                            "ingress.2098908075.to_port": "22",
                            "ingress.2757303969.action": "allow",
                            "ingress.2757303969.cidr_block": "192.168.1.0/24",
                            "ingress.2757303969.from_port": "22",
                            "ingress.2757303969.icmp_code": "0",
                            "ingress.2757303969.icmp_type": "0",
                            "ingress.2757303969.ipv6_cidr_block": "",
                            "ingress.2757303969.protocol": "6",
                            "ingress.2757303969.rule_no": "400",
                            "ingress.2757303969.to_port": "22",
                            "ingress.4108669765.action": "allow",
                            "ingress.4108669765.cidr_block": "192.168.0.0/16",
                            "ingress.4108669765.from_port": "80",
                            "ingress.4108669765.icmp_code": "0",
                            "ingress.4108669765.icmp_type": "0",
                            "ingress.4108669765.ipv6_cidr_block": "",
                            "ingress.4108669765.protocol": "6",
                            "ingress.4108669765.rule_no": "300",
                            "ingress.4108669765.to_port": "80",
                            "ingress.578160518.action": "allow",
                            "ingress.578160518.cidr_block": "192.168.0.0/16",
                            "ingress.578160518.from_port": "3306",
                            "ingress.578160518.icmp_code": "0",
                            "ingress.578160518.icmp_type": "0",
                            "ingress.578160518.ipv6_cidr_block": "",
                            "ingress.578160518.protocol": "6",
                            "ingress.578160518.rule_no": "350",
                            "ingress.578160518.to_port": "3306",
                            "subnet_ids.#": "0",
                            "tags.%": "1",
                            "tags.environment": "blue",
                            "vpc_id": "vpc-026956c8f7657ce6a"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_network_acl.public": {
                    "type": "aws_network_acl",
                    "depends_on": [
                        "aws_subnet.private_subnet1",
                        "aws_subnet.private_subnet2",
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "acl-05c3032f6b4cb0ef6",
                        "attributes": {
                            "egress.#": "3",
                            "egress.1087190299.action": "allow",
                            "egress.1087190299.cidr_block": "192.168.4.0/24",
                            "egress.1087190299.from_port": "22",
                            "egress.1087190299.icmp_code": "0",
                            "egress.1087190299.icmp_type": "0",
                            "egress.1087190299.ipv6_cidr_block": "",
                            "egress.1087190299.protocol": "6",
                            "egress.1087190299.rule_no": "250",
                            "egress.1087190299.to_port": "22",
                            "egress.1401401844.action": "allow",
                            "egress.1401401844.cidr_block": "0.0.0.0/0",
                            "egress.1401401844.from_port": "0",
                            "egress.1401401844.icmp_code": "0",
                            "egress.1401401844.icmp_type": "0",
                            "egress.1401401844.ipv6_cidr_block": "",
                            "egress.1401401844.protocol": "-1",
                            "egress.1401401844.rule_no": "100",
                            "egress.1401401844.to_port": "0",
                            "egress.2592660334.action": "allow",
                            "egress.2592660334.cidr_block": "192.168.2.0/24",
                            "egress.2592660334.from_port": "22",
                            "egress.2592660334.icmp_code": "0",
                            "egress.2592660334.icmp_type": "0",
                            "egress.2592660334.ipv6_cidr_block": "",
                            "egress.2592660334.protocol": "6",
                            "egress.2592660334.rule_no": "200",
                            "egress.2592660334.to_port": "22",
                            "id": "acl-05c3032f6b4cb0ef6",
                            "ingress.#": "2",
                            "ingress.1573965705.action": "allow",
                            "ingress.1573965705.cidr_block": "0.0.0.0/0",
                            "ingress.1573965705.from_port": "80",
                            "ingress.1573965705.icmp_code": "0",
                            "ingress.1573965705.icmp_type": "0",
                            "ingress.1573965705.ipv6_cidr_block": "",
                            "ingress.1573965705.protocol": "6",
                            "ingress.1573965705.rule_no": "50",
                            "ingress.1573965705.to_port": "80",
                            "ingress.3972653198.action": "allow",
                            "ingress.3972653198.cidr_block": "0.0.0.0/0",
                            "ingress.3972653198.from_port": "22",
                            "ingress.3972653198.icmp_code": "0",
                            "ingress.3972653198.icmp_type": "0",
                            "ingress.3972653198.ipv6_cidr_block": "",
                            "ingress.3972653198.protocol": "6",
                            "ingress.3972653198.rule_no": "150",
                            "ingress.3972653198.to_port": "22",
                            "subnet_ids.#": "0",
                            "tags.%": "1",
                            "tags.environment": "blue",
                            "vpc_id": "vpc-026956c8f7657ce6a"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route_table.nat": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_instance.nat1",
                        "aws_instance.nat2",
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "rtb-033658a960ee9da46",
                        "attributes": {
                            "id": "rtb-033658a960ee9da46",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.213878830.cidr_block": "0.0.0.0/0",
                            "route.213878830.egress_only_gateway_id": "",
                            "route.213878830.gateway_id": "",
                            "route.213878830.instance_id": "i-0b291ce95c25814f6",
                            "route.213878830.ipv6_cidr_block": "",
                            "route.213878830.nat_gateway_id": "",
                            "route.213878830.network_interface_id": "eni-020f78cce4493bccf",
                            "route.213878830.transit_gateway_id": "",
                            "route.213878830.vpc_peering_connection_id": "",
                            "tags.%": "0",
                            "vpc_id": "vpc-026956c8f7657ce6a"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route_table.rt1": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_internet_gateway.igw",
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "rtb-00d199a5b88f30dfc",
                        "attributes": {
                            "id": "rtb-00d199a5b88f30dfc",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.2466643169.cidr_block": "0.0.0.0/0",
                            "route.2466643169.egress_only_gateway_id": "",
                            "route.2466643169.gateway_id": "igw-0391c2dc7be014827",
                            "route.2466643169.instance_id": "",
                            "route.2466643169.ipv6_cidr_block": "",
                            "route.2466643169.nat_gateway_id": "",
                            "route.2466643169.network_interface_id": "",
                            "route.2466643169.transit_gateway_id": "",
                            "route.2466643169.vpc_peering_connection_id": "",
                            "tags.%": "1",
                            "tags.environment": "blue",
                            "vpc_id": "vpc-026956c8f7657ce6a"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route_table_association.rta1": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.rt1",
                        "aws_subnet.public_subnet1"
                    ],
                    "primary": {
                        "id": "rtbassoc-0e6ca0a7d21a31b0b",
                        "attributes": {
                            "id": "rtbassoc-0e6ca0a7d21a31b0b",
                            "route_table_id": "rtb-00d199a5b88f30dfc",
                            "subnet_id": "subnet-0c9d84bc146dded81"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_route_table_association.rta2": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.rt1",
                        "aws_subnet.public_subnet2"
                    ],
                    "primary": {
                        "id": "rtbassoc-069c8d8c28c92c869",
                        "attributes": {
                            "id": "rtbassoc-069c8d8c28c92c869",
                            "route_table_id": "rtb-00d199a5b88f30dfc",
                            "subnet_id": "subnet-032e89ff80127eef0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_security_group.load_balancer": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "sg-0bcd54a0e78fb9e88",
                        "attributes": {
                            "arn": "arn:aws:ec2:eu-west-1:527244036378:security-group/sg-0bcd54a0e78fb9e88",
                            "description": "Managed by Terraform",
                            "egress.#": "1",
                            "egress.2697814151.cidr_blocks.#": "2",
                            "egress.2697814151.cidr_blocks.0": "192.168.2.0/24",
                            "egress.2697814151.cidr_blocks.1": "192.168.4.0/24",
                            "egress.2697814151.description": "HTTP",
                            "egress.2697814151.from_port": "80",
                            "egress.2697814151.ipv6_cidr_blocks.#": "0",
                            "egress.2697814151.prefix_list_ids.#": "0",
                            "egress.2697814151.protocol": "tcp",
                            "egress.2697814151.security_groups.#": "0",
                            "egress.2697814151.self": "false",
                            "egress.2697814151.to_port": "80",
                            "id": "sg-0bcd54a0e78fb9e88",
                            "ingress.#": "1",
                            "ingress.2776738622.cidr_blocks.#": "1",
                            "ingress.2776738622.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2776738622.description": "HTTP",
                            "ingress.2776738622.from_port": "80",
                            "ingress.2776738622.ipv6_cidr_blocks.#": "0",
                            "ingress.2776738622.prefix_list_ids.#": "0",
                            "ingress.2776738622.protocol": "tcp",
                            "ingress.2776738622.security_groups.#": "0",
                            "ingress.2776738622.self": "false",
                            "ingress.2776738622.to_port": "80",
                            "name": "terraform-20181128142909751000000002",
                            "owner_id": "527244036378",
                            "revoke_rules_on_delete": "false",
                            "tags.%": "1",
                            "tags.environment": "blue",
                            "vpc_id": "vpc-026956c8f7657ce6a"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_security_group.mysql_server": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_security_group.nat",
                        "aws_security_group.web_server",
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "sg-0509a009fd8731ce1",
                        "attributes": {
                            "arn": "arn:aws:ec2:eu-west-1:527244036378:security-group/sg-0509a009fd8731ce1",
                            "description": "Managed by Terraform",
                            "egress.#": "0",
                            "id": "sg-0509a009fd8731ce1",
                            "ingress.#": "2",
                            "ingress.2147117560.cidr_blocks.#": "0",
                            "ingress.2147117560.description": "SSH",
                            "ingress.2147117560.from_port": "22",
                            "ingress.2147117560.ipv6_cidr_blocks.#": "0",
                            "ingress.2147117560.prefix_list_ids.#": "0",
                            "ingress.2147117560.protocol": "tcp",
                            "ingress.2147117560.security_groups.#": "1",
                            "ingress.2147117560.security_groups.2283750404": "sg-05510ca1526e6f417",
                            "ingress.2147117560.self": "false",
                            "ingress.2147117560.to_port": "22",
                            "ingress.2672539422.cidr_blocks.#": "0",
                            "ingress.2672539422.description": "TCP",
                            "ingress.2672539422.from_port": "3306",
                            "ingress.2672539422.ipv6_cidr_blocks.#": "0",
                            "ingress.2672539422.prefix_list_ids.#": "0",
                            "ingress.2672539422.protocol": "tcp",
                            "ingress.2672539422.security_groups.#": "1",
                            "ingress.2672539422.security_groups.1787731615": "sg-036a921f1e829f0de",
                            "ingress.2672539422.self": "false",
                            "ingress.2672539422.to_port": "3306",
                            "name": "terraform-20181128142958054500000006",
                            "owner_id": "527244036378",
                            "revoke_rules_on_delete": "false",
                            "tags.%": "1",
                            "tags.environment": "blue",
                            "vpc_id": "vpc-026956c8f7657ce6a"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_security_group.nat": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "sg-05510ca1526e6f417",
                        "attributes": {
                            "arn": "arn:aws:ec2:eu-west-1:527244036378:security-group/sg-05510ca1526e6f417",
                            "description": "Managed by Terraform",
                            "egress.#": "2",
                            "egress.2776738622.cidr_blocks.#": "1",
                            "egress.2776738622.cidr_blocks.0": "0.0.0.0/0",
                            "egress.2776738622.description": "HTTP",
                            "egress.2776738622.from_port": "80",
                            "egress.2776738622.ipv6_cidr_blocks.#": "0",
                            "egress.2776738622.prefix_list_ids.#": "0",
                            "egress.2776738622.protocol": "tcp",
                            "egress.2776738622.security_groups.#": "0",
                            "egress.2776738622.self": "false",
                            "egress.2776738622.to_port": "80",
                            "egress.542093528.cidr_blocks.#": "1",
                            "egress.542093528.cidr_blocks.0": "0.0.0.0/0",
                            "egress.542093528.description": "HTTPS",
                            "egress.542093528.from_port": "443",
                            "egress.542093528.ipv6_cidr_blocks.#": "0",
                            "egress.542093528.prefix_list_ids.#": "0",
                            "egress.542093528.protocol": "tcp",
                            "egress.542093528.security_groups.#": "0",
                            "egress.542093528.self": "false",
                            "egress.542093528.to_port": "443",
                            "id": "sg-05510ca1526e6f417",
                            "ingress.#": "0",
                            "name": "terraform-20181128142909751100000003",
                            "owner_id": "527244036378",
                            "revoke_rules_on_delete": "false",
                            "tags.%": "1",
                            "tags.environment": "blue",
                            "vpc_id": "vpc-026956c8f7657ce6a"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_security_group.ssh": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_security_group.mysql_server",
                        "aws_security_group.web_server",
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "sg-011560ed96b0d80be",
                        "attributes": {
                            "arn": "arn:aws:ec2:eu-west-1:527244036378:security-group/sg-011560ed96b0d80be",
                            "description": "Managed by Terraform",
                            "egress.#": "1",
                            "egress.4212320315.cidr_blocks.#": "0",
                            "egress.4212320315.description": "SSH",
                            "egress.4212320315.from_port": "22",
                            "egress.4212320315.ipv6_cidr_blocks.#": "0",
                            "egress.4212320315.prefix_list_ids.#": "0",
                            "egress.4212320315.protocol": "tcp",
                            "egress.4212320315.security_groups.#": "2",
                            "egress.4212320315.security_groups.1787731615": "sg-036a921f1e829f0de",
                            "egress.4212320315.security_groups.3024955593": "sg-0509a009fd8731ce1",
                            "egress.4212320315.self": "false",
                            "egress.4212320315.to_port": "22",
                            "id": "sg-011560ed96b0d80be",
                            "ingress.#": "1",
                            "ingress.1116238549.cidr_blocks.#": "1",
                            "ingress.1116238549.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.1116238549.description": "SSH",
                            "ingress.1116238549.from_port": "22",
                            "ingress.1116238549.ipv6_cidr_blocks.#": "0",
                            "ingress.1116238549.prefix_list_ids.#": "0",
                            "ingress.1116238549.protocol": "tcp",
                            "ingress.1116238549.security_groups.#": "0",
                            "ingress.1116238549.self": "false",
                            "ingress.1116238549.to_port": "22",
                            "name": "terraform-20181128143021854200000009",
                            "owner_id": "527244036378",
                            "revoke_rules_on_delete": "false",
                            "tags.%": "1",
                            "tags.environment": "blue",
                            "vpc_id": "vpc-026956c8f7657ce6a"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_security_group.web_server": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_security_group.load_balancer",
                        "aws_security_group.nat",
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "sg-036a921f1e829f0de",
                        "attributes": {
                            "arn": "arn:aws:ec2:eu-west-1:527244036378:security-group/sg-036a921f1e829f0de",
                            "description": "Managed by Terraform",
                            "egress.#": "1",
                            "egress.2741477109.cidr_blocks.#": "2",
                            "egress.2741477109.cidr_blocks.0": "192.168.2.0/24",
                            "egress.2741477109.cidr_blocks.1": "192.168.4.0/24",
                            "egress.2741477109.description": "TCP",
                            "egress.2741477109.from_port": "3306",
                            "egress.2741477109.ipv6_cidr_blocks.#": "0",
                            "egress.2741477109.prefix_list_ids.#": "0",
                            "egress.2741477109.protocol": "tcp",
                            "egress.2741477109.security_groups.#": "0",
                            "egress.2741477109.self": "false",
                            "egress.2741477109.to_port": "3306",
                            "id": "sg-036a921f1e829f0de",
                            "ingress.#": "2",
                            "ingress.2147117560.cidr_blocks.#": "0",
                            "ingress.2147117560.description": "SSH",
                            "ingress.2147117560.from_port": "22",
                            "ingress.2147117560.ipv6_cidr_blocks.#": "0",
                            "ingress.2147117560.prefix_list_ids.#": "0",
                            "ingress.2147117560.protocol": "tcp",
                            "ingress.2147117560.security_groups.#": "1",
                            "ingress.2147117560.security_groups.2283750404": "sg-05510ca1526e6f417",
                            "ingress.2147117560.self": "false",
                            "ingress.2147117560.to_port": "22",
                            "ingress.570074306.cidr_blocks.#": "0",
                            "ingress.570074306.description": "HTTP",
                            "ingress.570074306.from_port": "80",
                            "ingress.570074306.ipv6_cidr_blocks.#": "0",
                            "ingress.570074306.prefix_list_ids.#": "0",
                            "ingress.570074306.protocol": "tcp",
                            "ingress.570074306.security_groups.#": "1",
                            "ingress.570074306.security_groups.2526894282": "sg-0bcd54a0e78fb9e88",
                            "ingress.570074306.self": "false",
                            "ingress.570074306.to_port": "80",
                            "name": "terraform-20181128142927169500000005",
                            "owner_id": "527244036378",
                            "revoke_rules_on_delete": "false",
                            "tags.%": "1",
                            "tags.environment": "blue",
                            "vpc_id": "vpc-026956c8f7657ce6a"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_subnet.private_subnet1": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main",
                        "data.aws_availability_zones.available"
                    ],
                    "primary": {
                        "id": "subnet-0b6864df3695486f7",
                        "attributes": {
                            "arn": "arn:aws:ec2:eu-west-1:527244036378:subnet/subnet-0b6864df3695486f7",
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "eu-west-1a",
                            "cidr_block": "192.168.2.0/24",
                            "id": "subnet-0b6864df3695486f7",
                            "ipv6_cidr_block": "",
                            "ipv6_cidr_block_association_id": "",
                            "map_public_ip_on_launch": "false",
                            "tags.%": "1",
                            "tags.environment": "blue",
                            "vpc_id": "vpc-026956c8f7657ce6a"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_subnet.private_subnet2": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main",
                        "data.aws_availability_zones.available"
                    ],
                    "primary": {
                        "id": "subnet-0d325934569ec4b2a",
                        "attributes": {
                            "arn": "arn:aws:ec2:eu-west-1:527244036378:subnet/subnet-0d325934569ec4b2a",
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "eu-west-1b",
                            "cidr_block": "192.168.4.0/24",
                            "id": "subnet-0d325934569ec4b2a",
                            "ipv6_cidr_block": "",
                            "ipv6_cidr_block_association_id": "",
                            "map_public_ip_on_launch": "false",
                            "tags.%": "1",
                            "tags.environment": "blue",
                            "vpc_id": "vpc-026956c8f7657ce6a"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_subnet.public_subnet1": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main",
                        "data.aws_availability_zones.available"
                    ],
                    "primary": {
                        "id": "subnet-0c9d84bc146dded81",
                        "attributes": {
                            "arn": "arn:aws:ec2:eu-west-1:527244036378:subnet/subnet-0c9d84bc146dded81",
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "eu-west-1a",
                            "cidr_block": "192.168.1.0/24",
                            "id": "subnet-0c9d84bc146dded81",
                            "ipv6_cidr_block": "",
                            "ipv6_cidr_block_association_id": "",
                            "map_public_ip_on_launch": "true",
                            "tags.%": "1",
                            "tags.environment": "blue",
                            "vpc_id": "vpc-026956c8f7657ce6a"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_subnet.public_subnet2": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main",
                        "data.aws_availability_zones.available"
                    ],
                    "primary": {
                        "id": "subnet-032e89ff80127eef0",
                        "attributes": {
                            "arn": "arn:aws:ec2:eu-west-1:527244036378:subnet/subnet-032e89ff80127eef0",
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "eu-west-1b",
                            "cidr_block": "192.168.3.0/24",
                            "id": "subnet-032e89ff80127eef0",
                            "ipv6_cidr_block": "",
                            "ipv6_cidr_block_association_id": "",
                            "map_public_ip_on_launch": "true",
                            "tags.%": "1",
                            "tags.environment": "blue",
                            "vpc_id": "vpc-026956c8f7657ce6a"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_vpc.main": {
                    "type": "aws_vpc",
                    "depends_on": [],
                    "primary": {
                        "id": "vpc-026956c8f7657ce6a",
                        "attributes": {
                            "arn": "arn:aws:ec2:eu-west-1:527244036378:vpc/vpc-026956c8f7657ce6a",
                            "assign_generated_ipv6_cidr_block": "false",
                            "cidr_block": "192.168.0.0/16",
                            "default_network_acl_id": "acl-00ae104b4a142ea07",
                            "default_route_table_id": "rtb-0504fac19124370ff",
                            "default_security_group_id": "sg-061449ff27c8507b3",
                            "dhcp_options_id": "dopt-cef16fa8",
                            "enable_classiclink": "false",
                            "enable_classiclink_dns_support": "false",
                            "enable_dns_hostnames": "false",
                            "enable_dns_support": "true",
                            "id": "vpc-026956c8f7657ce6a",
                            "instance_tenancy": "default",
                            "ipv6_association_id": "",
                            "ipv6_cidr_block": "",
                            "main_route_table_id": "rtb-0504fac19124370ff",
                            "tags.%": "1",
                            "tags.environment": "blue"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_availability_zones.available": {
                    "type": "aws_availability_zones",
                    "depends_on": [],
                    "primary": {
                        "id": "2018-11-28 14:56:53.167203 +0000 UTC",
                        "attributes": {
                            "id": "2018-11-28 14:56:53.167203 +0000 UTC",
                            "names.#": "3",
                            "names.0": "eu-west-1a",
                            "names.1": "eu-west-1b",
                            "names.2": "eu-west-1c"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                }
            },
            "depends_on": []
        }
    ]
}
